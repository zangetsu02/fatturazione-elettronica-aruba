---
title: Errors
description: Error handling and codes
---

# Errors

## HTTP Errors

| Status | Description | SDK Handling |
|--------|-------------|--------------|
| `400` | Bad Request | Parameter error |
| `401` | Unauthorized | Auto-refresh token |
| `403` | Forbidden | Missing permissions |
| `404` | Not Found | Resource not found |
| `413` | Payload Too Large | File > 5MB |
| `429` | Too Many Requests | Auto-retry with backoff |
| `500` | Server Error | Automatic retry |

## Synchronous Errors

Returned immediately during upload:

| Code | Description |
|------|-------------|
| `0000` | Operation completed |
| `0001` | Filename already exists |
| `0002` | Duplicate invoice |
| `0003` | Space limit exceeded |
| `0004` | Invalid file |
| `0005` | Invalid Base64 |
| `0096` | Service unavailable |

## Asynchronous Errors

Received via `NS` notification:

| Code | Description |
|------|-------------|
| `FATRSM200` | File format non-compliant |
| `FATRSM212` | IdTrasmittente differs from Aruba's |
| `FATRSM213` | Invalid recipient code |

## Error Handling

```typescript
try {
  await invoices.upload({ dataFile: encodeBase64(xml) });
} catch (error) {
  if (error.status === 401) {
    // Session expired
  } else if (error.status === 413) {
    // File too large
  } else if (error.errorCode === '0001') {
    // Duplicate filename
  }
}
```
