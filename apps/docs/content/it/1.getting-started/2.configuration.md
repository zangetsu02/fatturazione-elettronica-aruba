---
title: Configurazione
description: Configurazione ambienti Demo e Production
---

# Configurazione

## Ambienti

L'SDK supporta due ambienti:

| Ambiente | Auth URL | API URL |
|----------|----------|---------|
| `demo` | `demoauth.fatturazioneelettronica.aruba.it` | `demows.fatturazioneelettronica.aruba.it` |
| `production` | `auth.fatturazioneelettronica.aruba.it` | `ws.fatturazioneelettronica.aruba.it` |

## Configurazione Base

```typescript
import { ArubaClient } from '@fatturazione-elettronica-aruba/core';

// Ambiente Demo (test)
const demoClient = new ArubaClient({
  environment: 'demo',
});

// Ambiente Production
const prodClient = new ArubaClient({
  environment: 'production',
});
```

## Opzioni Avanzate

```typescript
const client = new ArubaClient({
  environment: 'production',

  // Timeout richieste HTTP (default: 30000ms)
  timeout: 60000,

  // Numero massimo retry per errori 429 (default: 3)
  maxRetries: 5,

  // Token storage personalizzato
  tokenStorage: {
    getToken: async () => {
      return localStorage.getItem('aruba_token');
    },
    setToken: async (token) => {
      localStorage.setItem('aruba_token', JSON.stringify(token));
    },
    clearToken: async () => {
      localStorage.removeItem('aruba_token');
    },
  },
});
```

## Variabili d'Ambiente

```bash
# .env
ARUBA_USERNAME=your_username
ARUBA_PASSWORD=your_password
ARUBA_ENVIRONMENT=demo
```

```typescript
const client = new ArubaClient({
  environment: process.env.ARUBA_ENVIRONMENT as 'demo' | 'production',
});

await client.auth.signin(
  process.env.ARUBA_USERNAME!,
  process.env.ARUBA_PASSWORD!
);
```

## Rate Limits

| Operazione | Limite |
|------------|--------|
| Autenticazione | 1 req/min per IP |
| Upload fatture | 30 req/min per IP |
| Ricerca fatture | 12 req/min per IP |

L'SDK gestisce automaticamente gli errori 429 con retry e backoff esponenziale.

## Limiti File

Dimensione massima upload: **5 MB**
