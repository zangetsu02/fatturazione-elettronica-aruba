---
title: Errori
description: Gestione errori e codici
---

# Errori

## Errori HTTP

| Status | Descrizione | Gestione SDK |
|--------|-------------|--------------|
| `400` | Bad Request | Errore parametri |
| `401` | Unauthorized | Auto-refresh token |
| `403` | Forbidden | Permessi mancanti |
| `404` | Not Found | Risorsa non trovata |
| `413` | Payload Too Large | File > 5MB |
| `429` | Too Many Requests | Auto-retry con backoff |
| `500` | Server Error | Retry automatico |

## Errori Sincroni

Restituiti immediatamente durante l'upload:

| Codice | Descrizione |
|--------|-------------|
| `0000` | Operazione effettuata |
| `0001` | Nome file gia presente |
| `0002` | Fattura duplicata |
| `0003` | Superato limite spazio |
| `0004` | File non valido |
| `0005` | Base64 non valido |
| `0006` | Tipo documento non valido |
| `0007` | Firma non valida |
| `0096` | Servizio non disponibile |

```typescript
import { SYNC_ERROR_CODES } from '@fatturazione-elettronica-aruba/utils';

// SYNC_ERROR_CODES['0001'] = 'Nome file gi√† presente nel sistema'
```

## Errori Asincroni

Ricevuti tramite notifica `NS`:

| Codice | Descrizione |
|--------|-------------|
| `FATRSM200` | File non conforme al formato |
| `FATRSM212` | IdTrasmittente diverso da quello Aruba |
| `FATRSM213` | Codice destinatario non valido |
| `FATRSM214` | PEC destinatario non valida |

```typescript
import { ASYNC_ERROR_CODES } from '@fatturazione-elettronica-aruba/utils';

// ASYNC_ERROR_CODES.FATRSM212 = 'IdTrasmittente diverso da quello Aruba'
```

## Gestione Errori

```typescript
try {
  await invoices.upload({ dataFile: encodeBase64(xml) });
} catch (error) {
  if (error.status === 401) {
    // Sessione scaduta
  } else if (error.status === 413) {
    // File troppo grande
  } else if (error.status === 429) {
    // Rate limit
  } else if (error.errorCode === '0001') {
    // Nome file duplicato
  }
}
```
