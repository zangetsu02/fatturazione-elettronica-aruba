---
title: Invoices
description: Package @fatturazione-elettronica-aruba/invoices
---

# Invoices

Gestione fatture elettroniche.

## InvoicesClient

```typescript
import { InvoicesClient } from '@fatturazione-elettronica-aruba/invoices';

const invoices = new InvoicesClient(httpClient);
```

## Metodi

### upload(request)

Invia fattura non firmata.

```typescript
const result = await invoices.upload({
  dataFile: string;        // XML in Base64
  credential?: string;     // Firma remota
  domain?: string;
  senderPIVA?: string;     // Per TD26
  skipExtraSchema?: boolean;
  dryRun?: boolean;        // Solo validazione
});
```

### uploadSigned(request)

Invia fattura gia firmata.

```typescript
const result = await invoices.uploadSigned({
  dataFile: string;        // .p7m o XAdES in Base64
});
```

### findSent(params)

Ricerca fatture inviate.

```typescript
const result = await invoices.findSent({
  creationStartDate: string;   // ISO 8601
  creationEndDate: string;     // Max 2 giorni
  status?: InvoiceStatus;
  documentType?: DocumentType;
  receiverVatcode?: string;
  page?: number;
  size?: number;               // Max 100
});
```

### getSentDetail(params)

Dettaglio fattura inviata.

```typescript
const detail = await invoices.getSentDetail({
  id?: string;
  filename?: string;
  idSdi?: string;
  includePdf?: boolean;
  includeFile?: boolean;
});
```

### findReceived(params)

Ricerca fatture ricevute.

```typescript
const result = await invoices.findReceived({
  creationStartDate: string;
  creationEndDate: string;
  senderVatcode?: string;
  page?: number;
  size?: number;
});
```

### getReceivedDetail(params)

```typescript
const detail = await invoices.getReceivedDetail({
  id?: string;
  filename?: string;
  includeFile?: boolean;
  includeUnsignedFile?: boolean;
});
```

### sendEsitoCommittente(request)

Invia esito committente.

```typescript
await invoices.sendEsitoCommittente({
  filename: string;
  sdiId: string;
  esito: 'EC01' | 'EC02';
  descrizione?: string;
});
```

### getSentZip(params)

Download ZIP fattura.

### getSentPdd(params)

Download PDD (Pacchetto di Distribuzione).

### downloadSent(ids, types)

Download massivo.

```typescript
const job = await invoices.downloadSent(
  ['12345', '12346'],
  ['xml', 'pdf', 'notifications']
);
```

### getDownload(jobId)

Recupera risultato download massivo.

## Tipi

### InvoiceStatus

```typescript
type InvoiceStatus =
  | 'Inviata'
  | 'Consegnata'
  | 'Non Consegnata'
  | 'Scartata'
  | 'Accettata'
  | 'Rifiutata'
  | 'Decorrenza Termini'
  | 'Errore Elaborazione'
  | 'In Elaborazione';
```

### DocumentType

```typescript
type DocumentType =
  | 'TD01' | 'TD02' | 'TD03' | 'TD04' | 'TD05' | 'TD06'
  | 'TD07' | 'TD08' | 'TD09' | 'TD10' | 'TD11' | 'TD12'
  | 'TD16' | 'TD17' | 'TD18' | 'TD19' | 'TD20' | 'TD21'
  | 'TD22' | 'TD23' | 'TD24' | 'TD25' | 'TD26' | 'TD27' | 'TD28';
```
